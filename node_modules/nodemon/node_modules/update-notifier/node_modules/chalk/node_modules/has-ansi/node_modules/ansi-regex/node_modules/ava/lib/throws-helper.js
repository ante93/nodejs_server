'use strict';
var fs = require('fs');
var path = require('path');
var chalk = require('chalk');
var globals = require('./globals');

module.exports = function (error) {
	if (!error || !error._avaThrowsHelperData) {
		return;
	}

	var data = error._avaThrowsHelperData;
	var codeFrame = require('babel-code-frame');
	var frame = '';

	try {
		var rawLines = fs.readFileSync(data.filename, 'utf8');
		frame = codeFrame(rawLines, data.line, data.column, {highlightCode: true});
	} catch (err) {
		console.warn(err);