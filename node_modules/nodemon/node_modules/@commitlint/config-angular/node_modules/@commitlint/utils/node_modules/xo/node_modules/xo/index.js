'use strict';
const path = require('path');
const eslint = require('eslint');
const globby = require('globby');
const optionsManager = require('./options-manager');

exports.lintText = (str, opts) => {
	opts = optionsManager.preprocess(opts);

	if (opts.overrides && opts.overrides.length > 0) {
		const overrides = opts.overrides;
		delete opts.overrides;

		const filename = path.relative(opts.cwd, opts.filename);
		const foundOverrides = optionsManager.findApplicableOverrides(filename, overrides);
		opts = 